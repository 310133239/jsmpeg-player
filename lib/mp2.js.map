{"version":3,"sources":["../src/mp2.js"],"names":["JSMpeg","BitBuffer","BaseDecoder","MP2","options","call","bufferSize","audioBufferSize","bufferMode","streaming","MODE","EVICT","EXPAND","bits","left","Float32Array","right","sampleRate","D","set","SYNTHESIS_WINDOW","V","U","Int32Array","VPos","allocation","Array","scaleFactorInfo","Uint8Array","scaleFactor","sample","j","i","prototype","Object","create","constructor","decode","pos","index","byteLength","decoded","decodeFrame","destination","play","advanceDecodedTime","length","getCurrentTime","enqueuedTime","decodedTime","sync","read","version","layer","hasCRC","FRAME_SYNC","VERSION","MPEG_1","LAYER","II","bitrateIndex","sampleRateIndex","SAMPLE_RATE","MPEG_2","padding","privat","mode","bound","JOINT_STEREO","skip","MONO","bitrate","BIT_RATE","frameSize","tab3","sblimit","tab1","tab2","QUANT_LUT_STEP_1","QUANT_LUT_STEP_2","sb","readAllocation","channels","ch","sf","outPos","part","granule","readSamples","p","MatrixTransform","Fill","dIndex","vIndex","outChannel","tab4","QUANT_LUT_STEP_3","qtab","QUANT_LUT_STEP4","QUANT_TAB","q","val","shift","SCALEFACTOR_BASE","adj","levels","group","scale","s","ss","d","dp","t01","t02","t03","t04","t05","t06","t07","t08","t09","t10","t11","t12","t13","t14","t15","t16","t17","t18","t19","t20","t21","t22","t23","t24","t25","t26","t27","t28","t29","t30","t31","t32","t33","MPEG_2_5","III","I","STEREO","DUAL_CHANNEL","Uint16Array","Uint32Array","A","B","C"],"mappings":"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","file":"mp2.js","sourcesContent":["// Based on kjmp2 by Martin J. Fiedler\r\n// http://keyj.emphy.de/kjmp2/\r\n\r\nimport JSMpeg from './jsmpeg';\r\nimport BitBuffer from './buffer';\r\nimport BaseDecoder from './decoder';\r\n\r\nlet MP2 = function(options) {\r\n  BaseDecoder.call(this, options);\r\n\r\n\tvar bufferSize = options.audioBufferSize || 128*1024;\r\n\tvar bufferMode = options.streaming\r\n\t\t? BitBuffer.MODE.EVICT\r\n\t\t: BitBuffer.MODE.EXPAND;\r\n\r\n\tthis.bits = new JSMpeg.BitBuffer(bufferSize, bufferMode);\r\n\r\n\tthis.left = new Float32Array(1152);\r\n\tthis.right = new Float32Array(1152);\r\n\tthis.sampleRate = 44100;\r\n\t\r\n\tthis.D = new Float32Array(1024);\r\n\tthis.D.set(MP2.SYNTHESIS_WINDOW, 0);\r\n\tthis.D.set(MP2.SYNTHESIS_WINDOW, 512);\r\n\tthis.V = new Float32Array(1024);\r\n\tthis.U = new Int32Array(32);\r\n\tthis.VPos = 0;\r\n\r\n\tthis.allocation = [new Array(32), new Array(32)];\r\n\tthis.scaleFactorInfo = [new Uint8Array(32), new Uint8Array(32)];\r\n\tthis.scaleFactor = [new Array(32), new Array(32)];\r\n\tthis.sample = [new Array(32), new Array(32)];\r\n\t\r\n\tfor (var j = 0; j < 2; j++) {\r\n\t\tfor (var i = 0; i < 32; i++) {\r\n\t\t\tthis.scaleFactor[j][i] = [0, 0, 0];\r\n\t\t\tthis.sample[j][i] = [0, 0, 0];\r\n\t\t}\r\n\t}\r\n};\r\n\r\nMP2.prototype = Object.create(BaseDecoder.prototype);\r\nMP2.prototype.constructor = MP2;\r\n\r\nMP2.prototype.decode = function() {\r\n\tvar pos = this.bits.index >> 3;\r\n\tif (pos >= this.bits.byteLength) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tvar decoded = this.decodeFrame(this.left, this.right);\r\n\tthis.bits.index = (pos + decoded) << 3;\r\n\r\n\tif (!decoded) {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (this.destination) {\r\n\t\tthis.destination.play(this.sampleRate, this.left, this.right);\r\n\t}\r\n\r\n\tthis.advanceDecodedTime(this.left.length / this.sampleRate);\r\n\treturn true;\r\n};\r\n\r\nMP2.prototype.getCurrentTime = function() {\r\n\tvar enqueuedTime = this.destination ? this.destination.enqueuedTime : 0;\r\n\treturn this.decodedTime - enqueuedTime;\r\n};\r\n\r\nMP2.prototype.decodeFrame = function(left, right) {\r\n\t// Check for valid header: syncword OK, MPEG-Audio Layer 2\r\n\tvar sync = this.bits.read(11),\r\n\t\tversion = this.bits.read(2),\r\n\t\tlayer = this.bits.read(2),\r\n\t\thasCRC = !this.bits.read(1);\r\n\r\n\tif (\r\n\t\tsync !== MP2.FRAME_SYNC ||\r\n\t\tversion !== MP2.VERSION.MPEG_1 ||\r\n\t\tlayer !== MP2.LAYER.II\r\n\t) {\r\n\t\treturn 0; // Invalid header or unsupported version\r\n\t}\r\n\r\n\tvar bitrateIndex = this.bits.read(4) - 1;\r\n\tif (bitrateIndex > 13) {\r\n\t\treturn 0;  // Invalid bit rate or 'free format'\r\n\t}\r\n\r\n\tvar sampleRateIndex = this.bits.read(2);\r\n\tvar sampleRate = MP2.SAMPLE_RATE[sampleRateIndex];\r\n\tif (sampleRateIndex === 3) {\r\n\t\treturn 0; // Invalid sample rate\r\n\t}\r\n\tif (version === MP2.VERSION.MPEG_2) {\r\n\t\tsampleRateIndex += 4;\r\n\t\tbitrateIndex += 14;\r\n\t}\r\n\tvar padding = this.bits.read(1),\r\n\t\tprivat = this.bits.read(1),\r\n\t\tmode = this.bits.read(2);\r\n\r\n\t// Parse the mode_extension, set up the stereo bound\r\n\tvar bound = 0;\r\n\tif (mode === MP2.MODE.JOINT_STEREO) {\r\n\t\tbound = (this.bits.read(2) + 1) << 2;\r\n\t}\r\n\telse {\r\n\t\tthis.bits.skip(2);\r\n\t\tbound = (mode === MP2.MODE.MONO) ? 0 : 32;\r\n\t}\r\n\r\n\t// Discard the last 4 bits of the header and the CRC value, if present\r\n\tthis.bits.skip(4);\r\n\tif (hasCRC) {\r\n\t\tthis.bits.skip(16);\r\n\t}\r\n\r\n\t// Compute the frame size\r\n\tvar bitrate = MP2.BIT_RATE[bitrateIndex],\r\n\t\tsampleRate = MP2.SAMPLE_RATE[sampleRateIndex],\r\n\t\tframeSize = ((144000 * bitrate / sampleRate) + padding)|0;\r\n\t\r\n\r\n\t// Prepare the quantizer table lookups\r\n\tvar tab3 = 0;\r\n\tvar sblimit = 0;\r\n\tif (version === MP2.VERSION.MPEG_2) {\r\n\t\t// MPEG-2 (LSR)\r\n\t\ttab3 = 2;\r\n\t\tsblimit = 30;\r\n\t}\r\n\telse {\r\n\t\t// MPEG-1\r\n\t\tvar tab1 = (mode === MP2.MODE.MONO) ? 0 : 1;\r\n\t\tvar tab2 = MP2.QUANT_LUT_STEP_1[tab1][bitrateIndex];\r\n\t\ttab3 = MP2.QUANT_LUT_STEP_2[tab2][sampleRateIndex];\r\n\t\tsblimit = tab3 & 63;\r\n\t\ttab3 >>= 6;\r\n\t}\r\n\r\n\tif (bound > sblimit) {\r\n\t\tbound = sblimit;\r\n\t}\r\n\r\n\t// Read the allocation information\r\n\tfor (var sb = 0; sb < bound; sb++) {\r\n\t\tthis.allocation[0][sb] = this.readAllocation(sb, tab3);\r\n\t\tthis.allocation[1][sb] = this.readAllocation(sb, tab3);\r\n\t}\r\n\r\n\tfor (var sb = bound; sb < sblimit; sb++) {\r\n\t\tthis.allocation[0][sb] = \r\n\t\t\tthis.allocation[1][sb] =\r\n\t\t\tthis.readAllocation(sb, tab3);\r\n\t}\r\n\r\n\t// Read scale factor selector information\r\n\tvar channels = (mode === MP2.MODE.MONO) ? 1 : 2;\r\n\tfor (var sb = 0;  sb < sblimit; sb++) {\r\n\t\tfor (ch = 0;  ch < channels; ch++) {\r\n\t\t\tif (this.allocation[ch][sb]) {\r\n\t\t\t\tthis.scaleFactorInfo[ch][sb] = this.bits.read(2);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (mode === MP2.MODE.MONO) {\r\n\t\t\tthis.scaleFactorInfo[1][sb] = this.scaleFactorInfo[0][sb];\r\n\t\t}\r\n\t}\r\n\r\n\t// Read scale factors\r\n\tfor (var sb = 0;  sb < sblimit; sb++) {\r\n\t\tfor (var ch = 0;  ch < channels; ch++) {\r\n\t\t\tif (this.allocation[ch][sb]) {\r\n\t\t\t\tvar sf = this.scaleFactor[ch][sb];\r\n\t\t\t\tswitch (this.scaleFactorInfo[ch][sb]) {\r\n\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\tsf[0] = this.bits.read(6);\r\n\t\t\t\t\t\tsf[1] = this.bits.read(6);\r\n\t\t\t\t\t\tsf[2] = this.bits.read(6);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tsf[0] =\r\n\t\t\t\t\t\tsf[1] = this.bits.read(6);\r\n\t\t\t\t\t\tsf[2] = this.bits.read(6);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tsf[0] =\r\n\t\t\t\t\t\tsf[1] =\r\n\t\t\t\t\t\tsf[2] = this.bits.read(6);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tsf[0] = this.bits.read(6);\r\n\t\t\t\t\t\tsf[1] =\r\n\t\t\t\t\t\tsf[2] = this.bits.read(6);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (mode === MP2.MODE.MONO) {\r\n\t\t\tthis.scaleFactor[1][sb][0] = this.scaleFactor[0][sb][0];\r\n\t\t\tthis.scaleFactor[1][sb][1] = this.scaleFactor[0][sb][1];\r\n\t\t\tthis.scaleFactor[1][sb][2] = this.scaleFactor[0][sb][2];\r\n\t\t}\r\n\t}\r\n\r\n\t// Coefficient input and reconstruction\r\n\tvar outPos = 0;\r\n\tfor (var part = 0; part < 3; part++) {\r\n\t\tfor (var granule = 0; granule < 4; granule++) {\r\n\r\n\t\t\t// Read the samples\r\n\t\t\tfor (var sb = 0; sb < bound; sb++) {\r\n\t\t\t\tthis.readSamples(0, sb, part);\r\n\t\t\t\tthis.readSamples(1, sb, part);\r\n\t\t\t}\r\n\t\t\tfor (var sb = bound; sb < sblimit; sb++) {\r\n\t\t\t\tthis.readSamples(0, sb, part);\r\n\t\t\t\tthis.sample[1][sb][0] = this.sample[0][sb][0];\r\n\t\t\t\tthis.sample[1][sb][1] = this.sample[0][sb][1];\r\n\t\t\t\tthis.sample[1][sb][2] = this.sample[0][sb][2];\r\n\t\t\t}\r\n\t\t\tfor (var sb = sblimit; sb < 32; sb++) {\r\n\t\t\t\tthis.sample[0][sb][0] = 0;\r\n\t\t\t\tthis.sample[0][sb][1] = 0;\r\n\t\t\t\tthis.sample[0][sb][2] = 0;\r\n\t\t\t\tthis.sample[1][sb][0] = 0;\r\n\t\t\t\tthis.sample[1][sb][1] = 0;\r\n\t\t\t\tthis.sample[1][sb][2] = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// Synthesis loop\r\n\t\t\tfor (var p = 0; p < 3; p++) {\r\n\t\t\t\t// Shifting step\r\n\t\t\t\tthis.VPos = (this.VPos - 64) & 1023;\r\n\r\n\t\t\t\tfor (var ch = 0;  ch < 2; ch++) {\r\n\t\t\t\t\tMP2.MatrixTransform(this.sample[ch], p, this.V, this.VPos);\r\n\r\n\t\t\t\t\t// Build U, windowing, calculate output\r\n\t\t\t\t\tJSMpeg.Fill(this.U, 0);\r\n\r\n\t\t\t\t\tvar dIndex = 512 - (this.VPos >> 1);\r\n\t\t\t\t\tvar vIndex = (this.VPos % 128) >> 1;\r\n\t\t\t\t\twhile (vIndex < 1024) {\r\n\t\t\t\t\t\tfor (var i = 0; i < 32; ++i) {\r\n\t\t\t\t\t\t\tthis.U[i] += this.D[dIndex++] * this.V[vIndex++];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvIndex += 128-32;\r\n\t\t\t\t\t\tdIndex += 64-32;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvIndex = (128-32 + 1024) - vIndex;\r\n\t\t\t\t\tdIndex -= (512 - 32);\r\n\t\t\t\t\twhile (vIndex < 1024) {\r\n\t\t\t\t\t\tfor (var i = 0; i < 32; ++i) {\r\n\t\t\t\t\t\t\tthis.U[i] += this.D[dIndex++] * this.V[vIndex++];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvIndex += 128-32;\r\n\t\t\t\t\t\tdIndex += 64-32;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Output samples\r\n\t\t\t\t\tvar outChannel = ch === 0 ? left : right;\r\n\t\t\t\t\tfor (var j = 0; j < 32; j++) {\r\n\t\t\t\t\t\toutChannel[outPos + j] = this.U[j] / 2147418112;\r\n\t\t\t\t\t}\r\n\t\t\t\t} // End of synthesis channel loop\r\n\t\t\t\toutPos += 32;\r\n\t\t\t} // End of synthesis sub-block loop\r\n\r\n\t\t} // Decoding of the granule finished\r\n\t}\r\n\r\n\tthis.sampleRate = sampleRate;\r\n\treturn frameSize;\r\n};\r\n\r\nMP2.prototype.readAllocation = function(sb, tab3) {\r\n\tvar tab4 = MP2.QUANT_LUT_STEP_3[tab3][sb];\r\n\tvar qtab = MP2.QUANT_LUT_STEP4[tab4 & 15][this.bits.read(tab4 >> 4)];\r\n\treturn qtab ? (MP2.QUANT_TAB[qtab - 1]) : 0;\r\n};\r\n\r\nMP2.prototype.readSamples = function(ch, sb, part) {\r\n\tvar q = this.allocation[ch][sb],\r\n\t\tsf = this.scaleFactor[ch][sb][part],\r\n\t\tsample = this.sample[ch][sb],\r\n\t\tval = 0;\r\n\r\n\tif (!q) {\r\n\t\t// No bits allocated for this subband\r\n\t\tsample[0] = sample[1] = sample[2] = 0;\r\n\t\treturn;\r\n\t}\r\n\r\n\t// Resolve scalefactor\r\n\tif (sf === 63) {\r\n\t\tsf = 0;\r\n\t}\r\n\telse {\r\n\t\tvar shift = (sf / 3)|0;\r\n\t\tsf = (MP2.SCALEFACTOR_BASE[sf % 3] + ((1 << shift) >> 1)) >> shift;\r\n\t}\r\n\r\n\t// Decode samples\r\n\tvar adj = q.levels;\r\n\tif (q.group) {\r\n\t\t// Decode grouped samples\r\n\t\tval = this.bits.read(q.bits);\r\n\t\tsample[0] = val % adj;\r\n\t\tval = (val / adj)|0;\r\n\t\tsample[1] = val % adj;\r\n\t\tsample[2] = (val / adj)|0;\r\n\t}\r\n\telse {\r\n\t\t// Decode direct samples\r\n\t\tsample[0] = this.bits.read(q.bits);\r\n\t\tsample[1] = this.bits.read(q.bits);\r\n\t\tsample[2] = this.bits.read(q.bits);\r\n\t}\r\n\r\n\t// Postmultiply samples\r\n\tvar scale = (65536 / (adj + 1))|0;\r\n\tadj = ((adj + 1) >> 1) - 1;\r\n\r\n\tval = (adj - sample[0]) * scale;\r\n\tsample[0] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\r\n\r\n\tval = (adj - sample[1]) * scale;\r\n\tsample[1] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\r\n\r\n\tval = (adj - sample[2]) * scale;\r\n\tsample[2] = (val * (sf >> 12) + ((val * (sf & 4095) + 2048) >> 12)) >> 12;\r\n};\r\n\r\nMP2.MatrixTransform = function(s, ss, d, dp) {\r\n\tvar t01, t02, t03, t04, t05, t06, t07, t08, t09, t10, t11, t12,\r\n\t\tt13, t14, t15, t16, t17, t18, t19, t20, t21, t22, t23, t24,\r\n\t\tt25, t26, t27, t28, t29, t30, t31, t32, t33;\r\n\r\n\tt01 = s[ 0][ss] + s[31][ss]; t02 = (s[ 0][ss] - s[31][ss]) * 0.500602998235;\r\n\tt03 = s[ 1][ss] + s[30][ss]; t04 = (s[ 1][ss] - s[30][ss]) * 0.505470959898;\r\n\tt05 = s[ 2][ss] + s[29][ss]; t06 = (s[ 2][ss] - s[29][ss]) * 0.515447309923;\r\n\tt07 = s[ 3][ss] + s[28][ss]; t08 = (s[ 3][ss] - s[28][ss]) * 0.53104259109;\r\n\tt09 = s[ 4][ss] + s[27][ss]; t10 = (s[ 4][ss] - s[27][ss]) * 0.553103896034;\r\n\tt11 = s[ 5][ss] + s[26][ss]; t12 = (s[ 5][ss] - s[26][ss]) * 0.582934968206;\r\n\tt13 = s[ 6][ss] + s[25][ss]; t14 = (s[ 6][ss] - s[25][ss]) * 0.622504123036;\r\n\tt15 = s[ 7][ss] + s[24][ss]; t16 = (s[ 7][ss] - s[24][ss]) * 0.674808341455;\r\n\tt17 = s[ 8][ss] + s[23][ss]; t18 = (s[ 8][ss] - s[23][ss]) * 0.744536271002;\r\n\tt19 = s[ 9][ss] + s[22][ss]; t20 = (s[ 9][ss] - s[22][ss]) * 0.839349645416;\r\n\tt21 = s[10][ss] + s[21][ss]; t22 = (s[10][ss] - s[21][ss]) * 0.972568237862;\r\n\tt23 = s[11][ss] + s[20][ss]; t24 = (s[11][ss] - s[20][ss]) * 1.16943993343;\r\n\tt25 = s[12][ss] + s[19][ss]; t26 = (s[12][ss] - s[19][ss]) * 1.48416461631;\r\n\tt27 = s[13][ss] + s[18][ss]; t28 = (s[13][ss] - s[18][ss]) * 2.05778100995;\r\n\tt29 = s[14][ss] + s[17][ss]; t30 = (s[14][ss] - s[17][ss]) * 3.40760841847;\r\n\tt31 = s[15][ss] + s[16][ss]; t32 = (s[15][ss] - s[16][ss]) * 10.1900081235;\r\n\r\n\tt33 = t01 + t31; t31 = (t01 - t31) * 0.502419286188;\r\n\tt01 = t03 + t29; t29 = (t03 - t29) * 0.52249861494;\r\n\tt03 = t05 + t27; t27 = (t05 - t27) * 0.566944034816;\r\n\tt05 = t07 + t25; t25 = (t07 - t25) * 0.64682178336;\r\n\tt07 = t09 + t23; t23 = (t09 - t23) * 0.788154623451;\r\n\tt09 = t11 + t21; t21 = (t11 - t21) * 1.06067768599;\r\n\tt11 = t13 + t19; t19 = (t13 - t19) * 1.72244709824;\r\n\tt13 = t15 + t17; t17 = (t15 - t17) * 5.10114861869;\r\n\tt15 = t33 + t13; t13 = (t33 - t13) * 0.509795579104;\r\n\tt33 = t01 + t11; t01 = (t01 - t11) * 0.601344886935;\r\n\tt11 = t03 + t09; t09 = (t03 - t09) * 0.899976223136;\r\n\tt03 = t05 + t07; t07 = (t05 - t07) * 2.56291544774;\r\n\tt05 = t15 + t03; t15 = (t15 - t03) * 0.541196100146;\r\n\tt03 = t33 + t11; t11 = (t33 - t11) * 1.30656296488;\r\n\tt33 = t05 + t03; t05 = (t05 - t03) * 0.707106781187;\r\n\tt03 = t15 + t11; t15 = (t15 - t11) * 0.707106781187;\r\n\tt03 += t15;\r\n\tt11 = t13 + t07; t13 = (t13 - t07) * 0.541196100146;\r\n\tt07 = t01 + t09; t09 = (t01 - t09) * 1.30656296488;\r\n\tt01 = t11 + t07; t07 = (t11 - t07) * 0.707106781187;\r\n\tt11 = t13 + t09; t13 = (t13 - t09) * 0.707106781187;\r\n\tt11 += t13; t01 += t11; \r\n\tt11 += t07; t07 += t13;\r\n\tt09 = t31 + t17; t31 = (t31 - t17) * 0.509795579104;\r\n\tt17 = t29 + t19; t29 = (t29 - t19) * 0.601344886935;\r\n\tt19 = t27 + t21; t21 = (t27 - t21) * 0.899976223136;\r\n\tt27 = t25 + t23; t23 = (t25 - t23) * 2.56291544774;\r\n\tt25 = t09 + t27; t09 = (t09 - t27) * 0.541196100146;\r\n\tt27 = t17 + t19; t19 = (t17 - t19) * 1.30656296488;\r\n\tt17 = t25 + t27; t27 = (t25 - t27) * 0.707106781187;\r\n\tt25 = t09 + t19; t19 = (t09 - t19) * 0.707106781187;\r\n\tt25 += t19;\r\n\tt09 = t31 + t23; t31 = (t31 - t23) * 0.541196100146;\r\n\tt23 = t29 + t21; t21 = (t29 - t21) * 1.30656296488;\r\n\tt29 = t09 + t23; t23 = (t09 - t23) * 0.707106781187;\r\n\tt09 = t31 + t21; t31 = (t31 - t21) * 0.707106781187;\r\n\tt09 += t31;\tt29 += t09;\tt09 += t23;\tt23 += t31;\r\n\tt17 += t29;\tt29 += t25;\tt25 += t09;\tt09 += t27;\r\n\tt27 += t23;\tt23 += t19; t19 += t31;\t\r\n\tt21 = t02 + t32; t02 = (t02 - t32) * 0.502419286188;\r\n\tt32 = t04 + t30; t04 = (t04 - t30) * 0.52249861494;\r\n\tt30 = t06 + t28; t28 = (t06 - t28) * 0.566944034816;\r\n\tt06 = t08 + t26; t08 = (t08 - t26) * 0.64682178336;\r\n\tt26 = t10 + t24; t10 = (t10 - t24) * 0.788154623451;\r\n\tt24 = t12 + t22; t22 = (t12 - t22) * 1.06067768599;\r\n\tt12 = t14 + t20; t20 = (t14 - t20) * 1.72244709824;\r\n\tt14 = t16 + t18; t16 = (t16 - t18) * 5.10114861869;\r\n\tt18 = t21 + t14; t14 = (t21 - t14) * 0.509795579104;\r\n\tt21 = t32 + t12; t32 = (t32 - t12) * 0.601344886935;\r\n\tt12 = t30 + t24; t24 = (t30 - t24) * 0.899976223136;\r\n\tt30 = t06 + t26; t26 = (t06 - t26) * 2.56291544774;\r\n\tt06 = t18 + t30; t18 = (t18 - t30) * 0.541196100146;\r\n\tt30 = t21 + t12; t12 = (t21 - t12) * 1.30656296488;\r\n\tt21 = t06 + t30; t30 = (t06 - t30) * 0.707106781187;\r\n\tt06 = t18 + t12; t12 = (t18 - t12) * 0.707106781187;\r\n\tt06 += t12;\r\n\tt18 = t14 + t26; t26 = (t14 - t26) * 0.541196100146;\r\n\tt14 = t32 + t24; t24 = (t32 - t24) * 1.30656296488;\r\n\tt32 = t18 + t14; t14 = (t18 - t14) * 0.707106781187;\r\n\tt18 = t26 + t24; t24 = (t26 - t24) * 0.707106781187;\r\n\tt18 += t24; t32 += t18; \r\n\tt18 += t14; t26 = t14 + t24;\r\n\tt14 = t02 + t16; t02 = (t02 - t16) * 0.509795579104;\r\n\tt16 = t04 + t20; t04 = (t04 - t20) * 0.601344886935;\r\n\tt20 = t28 + t22; t22 = (t28 - t22) * 0.899976223136;\r\n\tt28 = t08 + t10; t10 = (t08 - t10) * 2.56291544774;\r\n\tt08 = t14 + t28; t14 = (t14 - t28) * 0.541196100146;\r\n\tt28 = t16 + t20; t20 = (t16 - t20) * 1.30656296488;\r\n\tt16 = t08 + t28; t28 = (t08 - t28) * 0.707106781187;\r\n\tt08 = t14 + t20; t20 = (t14 - t20) * 0.707106781187;\r\n\tt08 += t20;\r\n\tt14 = t02 + t10; t02 = (t02 - t10) * 0.541196100146;\r\n\tt10 = t04 + t22; t22 = (t04 - t22) * 1.30656296488;\r\n\tt04 = t14 + t10; t10 = (t14 - t10) * 0.707106781187;\r\n\tt14 = t02 + t22; t02 = (t02 - t22) * 0.707106781187;\r\n\tt14 += t02;\tt04 += t14;\tt14 += t10;\tt10 += t02;\r\n\tt16 += t04;\tt04 += t08;\tt08 += t14;\tt14 += t28;\r\n\tt28 += t10;\tt10 += t20;\tt20 += t02;\tt21 += t16;\r\n\tt16 += t32;\tt32 += t04;\tt04 += t06;\tt06 += t08;\r\n\tt08 += t18;\tt18 += t14;\tt14 += t30;\tt30 += t28;\r\n\tt28 += t26;\tt26 += t10;\tt10 += t12;\tt12 += t20;\r\n\tt20 += t24;\tt24 += t02;\r\n\r\n\td[dp + 48] = -t33;\r\n\td[dp + 49] = d[dp + 47] = -t21;\r\n\td[dp + 50] = d[dp + 46] = -t17;\r\n\td[dp + 51] = d[dp + 45] = -t16;\r\n\td[dp + 52] = d[dp + 44] = -t01;\r\n\td[dp + 53] = d[dp + 43] = -t32;\r\n\td[dp + 54] = d[dp + 42] = -t29;\r\n\td[dp + 55] = d[dp + 41] = -t04;\r\n\td[dp + 56] = d[dp + 40] = -t03;\r\n\td[dp + 57] = d[dp + 39] = -t06;\r\n\td[dp + 58] = d[dp + 38] = -t25;\r\n\td[dp + 59] = d[dp + 37] = -t08;\r\n\td[dp + 60] = d[dp + 36] = -t11;\r\n\td[dp + 61] = d[dp + 35] = -t18;\r\n\td[dp + 62] = d[dp + 34] = -t09;\r\n\td[dp + 63] = d[dp + 33] = -t14;\r\n\td[dp + 32] = -t05;\r\n\td[dp +  0] = t05; d[dp + 31] = -t30;\r\n\td[dp +  1] = t30; d[dp + 30] = -t27;\r\n\td[dp +  2] = t27; d[dp + 29] = -t28;\r\n\td[dp +  3] = t28; d[dp + 28] = -t07;\r\n\td[dp +  4] = t07; d[dp + 27] = -t26;\r\n\td[dp +  5] = t26; d[dp + 26] = -t23;\r\n\td[dp +  6] = t23; d[dp + 25] = -t10;\r\n\td[dp +  7] = t10; d[dp + 24] = -t15;\r\n\td[dp +  8] = t15; d[dp + 23] = -t12;\r\n\td[dp +  9] = t12; d[dp + 22] = -t19;\r\n\td[dp + 10] = t19; d[dp + 21] = -t20;\r\n\td[dp + 11] = t20; d[dp + 20] = -t13;\r\n\td[dp + 12] = t13; d[dp + 19] = -t24;\r\n\td[dp + 13] = t24; d[dp + 18] = -t31;\r\n\td[dp + 14] = t31; d[dp + 17] = -t02;\r\n\td[dp + 15] = t02; d[dp + 16] =  0.0;\r\n};\r\n\r\nMP2.FRAME_SYNC = 0x7ff;\r\n\r\nMP2.VERSION = {\r\n\tMPEG_2_5: 0x0,\r\n\tMPEG_2: 0x2,\r\n\tMPEG_1: 0x3\r\n};\r\n\r\nMP2.LAYER = {\r\n\tIII: 0x1,\r\n\tII: 0x2,\r\n\tI: 0x3\r\n};\r\n\r\nMP2.MODE = {\r\n\tSTEREO: 0x0,\r\n\tJOINT_STEREO: 0x1,\r\n\tDUAL_CHANNEL: 0x2,\r\n\tMONO: 0x3\r\n};\r\n\r\nMP2.SAMPLE_RATE = new Uint16Array([\r\n\t44100, 48000, 32000, 0, // MPEG-1\r\n\t22050, 24000, 16000, 0  // MPEG-2\r\n]);\r\n\r\nMP2.BIT_RATE = new Uint16Array([\r\n\t32, 48, 56, 64, 80, 96, 112, 128, 160, 192, 224, 256, 320, 384, // MPEG-1\r\n\t 8, 16, 24, 32, 40, 48,  56,  64,  80,  96, 112, 128, 144, 160  // MPEG-2\r\n]);\r\n\r\nMP2.SCALEFACTOR_BASE = new Uint32Array([\r\n\t0x02000000, 0x01965FEA, 0x01428A30\r\n]);\r\n\r\nMP2.SYNTHESIS_WINDOW = new Float32Array([\r\n\t     0.0,     -0.5,     -0.5,     -0.5,     -0.5,     -0.5,\r\n\t    -0.5,     -1.0,     -1.0,     -1.0,     -1.0,     -1.5,\r\n\t    -1.5,     -2.0,     -2.0,     -2.5,     -2.5,     -3.0,\r\n\t    -3.5,     -3.5,     -4.0,     -4.5,     -5.0,     -5.5,\r\n\t    -6.5,     -7.0,     -8.0,     -8.5,     -9.5,    -10.5,\r\n\t   -12.0,    -13.0,    -14.5,    -15.5,    -17.5,    -19.0,\r\n\t   -20.5,    -22.5,    -24.5,    -26.5,    -29.0,    -31.5,\r\n\t   -34.0,    -36.5,    -39.5,    -42.5,    -45.5,    -48.5,\r\n\t   -52.0,    -55.5,    -58.5,    -62.5,    -66.0,    -69.5,\r\n\t   -73.5,    -77.0,    -80.5,    -84.5,    -88.0,    -91.5,\r\n\t   -95.0,    -98.0,   -101.0,   -104.0,    106.5,    109.0,\r\n\t   111.0,    112.5,    113.5,    114.0,    114.0,    113.5,\r\n\t   112.0,    110.5,    107.5,    104.0,    100.0,     94.5,\r\n\t    88.5,     81.5,     73.0,     63.5,     53.0,     41.5,\r\n\t    28.5,     14.5,     -1.0,    -18.0,    -36.0,    -55.5,\r\n\t   -76.5,    -98.5,   -122.0,   -147.0,   -173.5,   -200.5,\r\n\t  -229.5,   -259.5,   -290.5,   -322.5,   -355.5,   -389.5,\r\n\t  -424.0,   -459.5,   -495.5,   -532.0,   -568.5,   -605.0,\r\n\t  -641.5,   -678.0,   -714.0,   -749.0,   -783.5,   -817.0,\r\n\t  -849.0,   -879.5,   -908.5,   -935.0,   -959.5,   -981.0,\r\n\t -1000.5,  -1016.0,  -1028.5,  -1037.5,  -1042.5,  -1043.5,\r\n\t -1040.0,  -1031.5,   1018.5,   1000.0,    976.0,    946.5,\r\n\t   911.0,    869.5,    822.0,    767.5,    707.0,    640.0,\r\n\t   565.5,    485.0,    397.0,    302.5,    201.0,     92.5,\r\n\t   -22.5,   -144.0,   -272.5,   -407.0,   -547.5,   -694.0,\r\n\t  -846.0,  -1003.0,  -1165.0,  -1331.5,  -1502.0,  -1675.5,\r\n\t -1852.5,  -2031.5,  -2212.5,  -2394.0,  -2576.5,  -2758.5,\r\n\t -2939.5,  -3118.5,  -3294.5,  -3467.5,  -3635.5,  -3798.5,\r\n\t -3955.0,  -4104.5,  -4245.5,  -4377.5,  -4499.0,  -4609.5,\r\n\t -4708.0,  -4792.5,  -4863.5,  -4919.0,  -4958.0,  -4979.5,\r\n\t -4983.0,  -4967.5,  -4931.5,  -4875.0,  -4796.0,  -4694.5,\r\n\t -4569.5,  -4420.0,  -4246.0,  -4046.0,  -3820.0,  -3567.0,\r\n\t  3287.0,   2979.5,   2644.0,   2280.5,   1888.0,   1467.5,\r\n\t  1018.5,    541.0,     35.0,   -499.0,  -1061.0,  -1650.0,\r\n\t -2266.5,  -2909.0,  -3577.0,  -4270.0,  -4987.5,  -5727.5,\r\n\t -6490.0,  -7274.0,  -8077.5,  -8899.5,  -9739.0, -10594.5,\r\n\t-11464.5, -12347.0, -13241.0, -14144.5, -15056.0, -15973.5,\r\n\t-16895.5, -17820.0, -18744.5, -19668.0, -20588.0, -21503.0,\r\n\t-22410.5, -23308.5, -24195.0, -25068.5, -25926.5, -26767.0,\r\n\t-27589.0, -28389.0, -29166.5, -29919.0, -30644.5, -31342.0,\r\n\t-32009.5, -32645.0, -33247.0, -33814.5, -34346.0, -34839.5,\r\n\t-35295.0, -35710.0, -36084.5, -36417.5, -36707.5, -36954.0,\r\n\t-37156.5, -37315.0, -37428.0, -37496.0,  37519.0,  37496.0,\r\n\t 37428.0,  37315.0,  37156.5,  36954.0,  36707.5,  36417.5,\r\n\t 36084.5,  35710.0,  35295.0,  34839.5,  34346.0,  33814.5,\r\n\t 33247.0,  32645.0,  32009.5,  31342.0,  30644.5,  29919.0,\r\n\t 29166.5,  28389.0,  27589.0,  26767.0,  25926.5,  25068.5,\r\n\t 24195.0,  23308.5,  22410.5,  21503.0,  20588.0,  19668.0,\r\n\t 18744.5,  17820.0,  16895.5,  15973.5,  15056.0,  14144.5,\r\n\t 13241.0,  12347.0,  11464.5,  10594.5,   9739.0,   8899.5,\r\n\t  8077.5,   7274.0,   6490.0,   5727.5,   4987.5,   4270.0,\r\n\t  3577.0,   2909.0,   2266.5,   1650.0,   1061.0,    499.0,\r\n\t   -35.0,   -541.0,  -1018.5,  -1467.5,  -1888.0,  -2280.5,\r\n\t -2644.0,  -2979.5,   3287.0,   3567.0,   3820.0,   4046.0,\r\n\t  4246.0,   4420.0,   4569.5,   4694.5,   4796.0,   4875.0,\r\n\t  4931.5,   4967.5,   4983.0,   4979.5,   4958.0,   4919.0,\r\n\t  4863.5,   4792.5,   4708.0,   4609.5,   4499.0,   4377.5,\r\n\t  4245.5,   4104.5,   3955.0,   3798.5,   3635.5,   3467.5,\r\n\t  3294.5,   3118.5,   2939.5,   2758.5,   2576.5,   2394.0,\r\n\t  2212.5,   2031.5,   1852.5,   1675.5,   1502.0,   1331.5,\r\n\t  1165.0,   1003.0,    846.0,    694.0,    547.5,    407.0,\r\n\t   272.5,    144.0,     22.5,    -92.5,   -201.0,   -302.5,\r\n\t  -397.0,   -485.0,   -565.5,   -640.0,   -707.0,   -767.5,\r\n\t  -822.0,   -869.5,   -911.0,   -946.5,   -976.0,  -1000.0,\r\n\t  1018.5,   1031.5,   1040.0,   1043.5,   1042.5,   1037.5,\r\n\t  1028.5,   1016.0,   1000.5,    981.0,    959.5,    935.0,\r\n\t   908.5,    879.5,    849.0,    817.0,    783.5,    749.0,\r\n\t   714.0,    678.0,    641.5,    605.0,    568.5,    532.0,\r\n\t   495.5,    459.5,    424.0,    389.5,    355.5,    322.5,\r\n\t   290.5,    259.5,    229.5,    200.5,    173.5,    147.0,\r\n\t   122.0,     98.5,     76.5,     55.5,     36.0,     18.0,\r\n\t\t1.0,    -14.5,    -28.5,    -41.5,    -53.0,    -63.5,\r\n\t   -73.0,    -81.5,    -88.5,    -94.5,   -100.0,   -104.0,\r\n\t  -107.5,   -110.5,   -112.0,   -113.5,   -114.0,   -114.0,\r\n\t  -113.5,   -112.5,   -111.0,   -109.0,    106.5,    104.0,\r\n\t   101.0,     98.0,     95.0,     91.5,     88.0,     84.5,\r\n\t    80.5,     77.0,     73.5,     69.5,     66.0,     62.5,\r\n\t    58.5,     55.5,     52.0,     48.5,     45.5,     42.5,\r\n\t    39.5,     36.5,     34.0,     31.5,     29.0,     26.5,\r\n\t    24.5,     22.5,     20.5,     19.0,     17.5,     15.5,\r\n\t    14.5,     13.0,     12.0,     10.5,      9.5,      8.5,\r\n\t     8.0,      7.0,      6.5,      5.5,      5.0,      4.5,\r\n\t     4.0,      3.5,      3.5,      3.0,      2.5,      2.5,\r\n\t     2.0,      2.0,      1.5,      1.5,      1.0,      1.0,\r\n\t     1.0,      1.0,      0.5,      0.5,      0.5,      0.5,\r\n\t     0.5,      0.5\r\n]);\r\n\r\n// Quantizer lookup, step 1: bitrate classes\r\nMP2.QUANT_LUT_STEP_1 = [\r\n \t// 32, 48, 56, 64, 80, 96,112,128,160,192,224,256,320,384 <- bitrate\r\n\t[   0,  0,  1,  1,  1,  2,  2,  2,  2,  2,  2,  2,  2,  2], // mono\r\n\t// 16, 24, 28, 32, 40, 48, 56, 64, 80, 96,112,128,160,192 <- bitrate / chan\r\n\t[   0,  0,  0,  0,  0,  0,  1,  1,  1,  2,  2,  2,  2,  2] // stereo\r\n];\r\n\r\n// Quantizer lookup, step 2: bitrate class, sample rate -> B2 table idx, sblimit\r\nMP2.QUANT_TAB = {\r\n\tA: (27 | 64), // Table 3-B.2a: high-rate, sblimit = 27\r\n\tB: (30 | 64), // Table 3-B.2b: high-rate, sblimit = 30\r\n\tC:   8,       // Table 3-B.2c:  low-rate, sblimit =  8\r\n\tD:  12        // Table 3-B.2d:  low-rate, sblimit = 12\r\n};\r\n\r\nMP2.QUANT_LUT_STEP_2 = [\r\n\t//   44.1 kHz,        48 kHz,          32 kHz\r\n\t[MP2.QUANT_TAB.C, MP2.QUANT_TAB.C, MP2.QUANT_TAB.D], // 32 - 48 kbit/sec/ch\r\n\t[MP2.QUANT_TAB.A, MP2.QUANT_TAB.A, MP2.QUANT_TAB.A], // 56 - 80 kbit/sec/ch\r\n\t[MP2.QUANT_TAB.B, MP2.QUANT_TAB.A, MP2.QUANT_TAB.B]  // 96+\t kbit/sec/ch\r\n];\r\n\r\n// Quantizer lookup, step 3: B2 table, subband -> nbal, row index\r\n// (upper 4 bits: nbal, lower 4 bits: row index)\r\nMP2.QUANT_LUT_STEP_3 = [\r\n\t// Low-rate table (3-B.2c and 3-B.2d)\r\n\t[\r\n\t\t0x44,0x44,\r\n\t  \t0x34,0x34,0x34,0x34,0x34,0x34,0x34,0x34,0x34,0x34\r\n\t],\r\n\t// High-rate table (3-B.2a and 3-B.2b)\r\n\t[\r\n\t\t0x43,0x43,0x43,\r\n\t\t0x42,0x42,0x42,0x42,0x42,0x42,0x42,0x42,\r\n\t\t0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,0x31,\r\n\t\t0x20,0x20,0x20,0x20,0x20,0x20,0x20\r\n\t],\r\n\t// MPEG-2 LSR table (B.2 in ISO 13818-3)\r\n\t[\r\n\t\t0x45,0x45,0x45,0x45,\r\n\t\t0x34,0x34,0x34,0x34,0x34,0x34,0x34,\r\n\t\t0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,\r\n\t\t\t\t\t   0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24,0x24\t\r\n\t]\r\n];\r\n\r\n// Quantizer lookup, step 4: table row, allocation[] value -> quant table index\r\nMP2.QUANT_LUT_STEP4 = [\r\n\t[0, 1, 2, 17],\r\n\t[0, 1, 2, 3, 4, 5, 6, 17],\r\n\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 17],\r\n\t[0, 1, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17],\r\n\t[0, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 17],\r\n\t[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\r\n];\r\n\r\nMP2.QUANT_TAB = [\r\n\t{levels:     3, group: 1, bits:  5},  //  1\r\n\t{levels:     5, group: 1, bits:  7},  //  2\r\n\t{levels:     7, group: 0, bits:  3},  //  3\r\n\t{levels:     9, group: 1, bits: 10},  //  4\r\n\t{levels:    15, group: 0, bits:  4},  //  5\r\n\t{levels:    31, group: 0, bits:  5},  //  6\r\n\t{levels:    63, group: 0, bits:  6},  //  7\r\n\t{levels:   127, group: 0, bits:  7},  //  8\r\n\t{levels:   255, group: 0, bits:  8},  //  9\r\n\t{levels:   511, group: 0, bits:  9},  // 10\r\n\t{levels:  1023, group: 0, bits: 10},  // 11\r\n\t{levels:  2047, group: 0, bits: 11},  // 12\r\n\t{levels:  4095, group: 0, bits: 12},  // 13\r\n\t{levels:  8191, group: 0, bits: 13},  // 14\r\n\t{levels: 16383, group: 0, bits: 14},  // 15\r\n\t{levels: 32767, group: 0, bits: 15},  // 16\r\n\t{levels: 65535, group: 0, bits: 16}   // 17\r\n];\r\n\r\nexport default MP2;\r\n\r\n"]}